
     include <BOSL2/std.scad>

    
        


        
        
                        arc_0 = [
                [98.87436857302728, 46.45233091473764, 0],  // center
                18.5095954079375,  // radius
                324,  // start angle (degrees)
                576  // end angle (degrees)
            ];


                        arc_1 = [
                [117.3839639809648, -10.51434615204629, 0],  // center
                18.5095954079375,  // radius
                180,  // start angle (degrees)
                432  // end angle (degrees)
            ];


                        arc_2 = [
                [128.8235230610791, 24.69299650136535, 0],  // center
                18.5095954079375,  // radius
                252.00000000000009,  // start angle (degrees)
                504  // end angle (degrees)
            ];


                        arc_3 = [
                [68.92521408497542, 24.69299650136535, 0],  // center
                18.5095954079375,  // radius
                36,  // start angle (degrees)
                287.9999999999999  // end angle (degrees)
            ];


                        arc_4 = [
                [80.36477316508977, -10.51434615204629, 0],  // center
                18.5095954079375,  // radius
                108,  // start angle (degrees)
                360  // end angle (degrees)
            ];


                        arc_5 = [
                [113.7087118076413, -64.71862652228849, 0],  // center
                18.5095954079375,  // radius
                36,  // start angle (degrees)
                287.9999999999999  // end angle (degrees)
            ];


                        arc_6 = [
                [173.607020783745, -64.71862652228852, 0],  // center
                18.5095954079375,  // radius
                252,  // start angle (degrees)
                503.9999999999999  // end angle (degrees)
            ];


                        arc_7 = [
                [125.1482708877556, -99.92596917570012, 0],  // center
                18.5095954079375,  // radius
                108,  // start angle (degrees)
                360  // end angle (degrees)
            ];


                        arc_8 = [
                [162.1674617036306, -99.92596917570013, 0],  // center
                18.5095954079375,  // radius
                180,  // start angle (degrees)
                432  // end angle (degrees)
            ];


                        arc_9 = [
                [143.6578662956931, -42.95929210891621, 0],  // center
                18.5095954079375,  // radius
                323.9999999999999,  // start angle (degrees)
                576  // end angle (degrees)
            ];


                        arc_10 = [
                [72.46122145037684, -113.1806404495021, 0],  // center
                18.5095954079375,  // radius
                324,  // start angle (degrees)
                575.9999999999999  // end angle (degrees)
            ];


                        arc_11 = [
                [90.97081685831432, -170.147317516286, 0],  // center
                18.5095954079375,  // radius
                180,  // start angle (degrees)
                431.9999999999999  // end angle (degrees)
            ];


                        arc_12 = [
                [42.51206696232497, -134.9399748628744, 0],  // center
                18.5095954079375,  // radius
                36.00000000000011,  // start angle (degrees)
                287.9999999999999  // end angle (degrees)
            ];


                        arc_13 = [
                [29.94915448805185, 9.73107017869019, 0],  // center
                18.5095954079375,  // radius
                252,  // start angle (degrees)
                504  // end angle (degrees)
            ];


                        arc_14 = [
                [-34.83381807958698, -124.1348745029603, 0],  // center
                18.5095954079375,  // radius
                108.0000000000001,  // start angle (degrees)
                360  // end angle (degrees)
            ];


                        arc_15 = [
                [-18.50959540793751, -25.47627247472143, 0],  // center
                18.5095954079375,  // radius
                108,  // start angle (degrees)
                360  // end angle (degrees)
            ];


                        arc_16 = [
                [-29.94915448805186, 9.731070178690196, 0],  // center
                18.5095954079375,  // radius
                36,  // start angle (degrees)
                288  // end angle (degrees)
            ];


                        arc_17 = [
                [18.5095954079375, -25.47627247472144, 0],  // center
                18.5095954079375,  // radius
                180,  // start angle (degrees)
                432  // end angle (degrees)
            ];


                        arc_18 = [
                [-46.27337715970133, -88.92753184954863, 0],  // center
                18.5095954079375,  // radius
                36,  // start angle (degrees)
                287.9999999999999  // end angle (degrees)
            ];


                        arc_19 = [
                [2.185372736288028, -124.1348745029603, 0],  // center
                18.5095954079375,  // radius
                180,  // start angle (degrees)
                431.9999999999999  // end angle (degrees)
            ];


                        arc_20 = [
                [0, 31.49040459206249, 0],  // center
                18.5095954079375,  // radius
                324,  // start angle (degrees)
                575.9999999999999  // end angle (degrees)
            ];


                        arc_21 = [
                [-16.32422267164947, -67.16819743617633, 0],  // center
                18.5095954079375,  // radius
                324,  // start angle (degrees)
                576  // end angle (degrees)
            ];


                        arc_22 = [
                [13.62493181640239, -88.92753184954864, 0],  // center
                18.5095954079375,  // radius
                252,  // start angle (degrees)
                503.9999999999999  // end angle (degrees)
            ];


                        arc_23 = [
                [53.95162604243932, -170.147317516286, 0],  // center
                18.5095954079375,  // radius
                108,  // start angle (degrees)
                360  // end angle (degrees)
            ];


                        arc_24 = [
                [102.4103759384287, -134.9399748628744, 0],  // center
                18.5095954079375,  // radius
                252,  // start angle (degrees)
                504  // end angle (degrees)
            ];


        function arc_to_path(arc_def, n_segments=50) =
            let(
                center = arc_def[0],
                radius = arc_def[1],
                start_angle = arc_def[2],
                end_angle = arc_def[3],
                // Generate arc path using BOSL2
                arc_2d = arc(n=n_segments, r=radius, angle=[start_angle, end_angle])
            )
            // Translate arc to center position and add Z coordinate
            [for (p = arc_2d) [p.x + center[0], p.y + center[1], center[2]]];

        module sweep_arc(profile, arc_def, n_segments=50) {
            let(
                center = arc_def[0],
                radius = arc_def[1],
                start_angle = arc_def[2],
                end_angle = arc_def[3]
            )
            translate(center)
            path_sweep(profile, arc(n=n_segments, r=radius, angle=[start_angle, end_angle]));
        }

        
                circle_0 = [
    [143.6578662956931, -74.4496967009787, 0],  // center
    50  // radius
];


                circle_1 = [
    [72.46122145037683, -144.6710450415646, 0],  // center
    50  // radius
];


                circle_2 = [
    [98.87436857302727, 14.96192632267516, 0],  // center
    50  // radius
];


                circle_3 = [
    [0, 0, 0],  // center
    50  // radius
];


                circle_4 = [
    [-16.32422267164947, -98.65860202823883, 0],  // center
    49.99999999999999  // radius
];


                circle_5 = [
    [59.73384672948955, -60.56348348962139, 0],  // center
    135.065080835204  // radius
];
   
        
        // Convert circle definition to a 3D path using BOSL2's circle() function
    function circle_to_path(circle_def, n_segments=50) =
        let(
            center = circle_def[0],
            radius = circle_def[1],
            // Generate 2D circle and convert to 3D path
            circle_path_3d = path3d(circle(r=radius, $fn=n_segments))
        )
        // Translate circle path to center position
        [for (p = circle_path_3d) [p.x + center[0], p.y + center[1], p.z + center[2]]];

    // Sweep a circle with a profile
    module sweep_circle(profile, circle_def, n_segments=50) {
        let(
            center = circle_def[0],
            radius = circle_def[1],
            // Create 3D circular path
            circle_path = path3d(circle(r=radius, $fn=n_segments))
        )
        translate(center)
        path_sweep(profile, circle_path,closed=true);
    }


    
    
include <BOSL2/std.scad>

// Profile: proflie
// Points: 93 (xpositive), 184 (mirrored)
// Bounds: X[0.0000, 23.3978] Y[0.0000, 27.7526]

// Profile bounding box
// Width = max X * 2 (for mirrored profile)
// Height = max Y after centering (half of total Y range)
proflie_width = 46.795677;
proflie_height = 13.876282;

// Half profile from DXF (x-positive side, right half)
// Useful for rotate_extrude which requires x >= 0
proflie_xpositive = [
    [0.000000, 13.876282],
    [0.000000, 12.848409],
    [0.000000, 11.820536],
    [0.000000, 10.792664],
    [0.000000, 9.764791],
    [0.000000, 8.736918],
    [0.000000, 7.709045],
    [0.000000, 6.681173],
    [0.000000, 5.653300],
    [0.000000, 4.625427],
    [0.000000, 3.597555],
    [0.000000, 2.569682],
    [0.000000, 1.541809],
    [0.000000, 0.513936],
    [0.000000, -0.513936],
    [0.000000, -1.541809],
    [0.000000, -2.569682],
    [0.000000, -3.597555],
    [0.000000, -4.625427],
    [0.000000, -5.653300],
    [0.000000, -6.681173],
    [0.000000, -7.709045],
    [0.000000, -8.736918],
    [0.000000, -9.764791],
    [0.000000, -10.792664],
    [0.000000, -11.820536],
    [0.000000, -12.848409],
    [0.000000, -13.876282],
    [1.017297, -13.876282],
    [2.034595, -13.876282],
    [3.051892, -13.876282],
    [4.069189, -13.876282],
    [5.086487, -13.876282],
    [6.103784, -13.876282],
    [7.121081, -13.876282],
    [8.138379, -13.876282],
    [9.155676, -13.876282],
    [10.172973, -13.876282],
    [11.190271, -13.876282],
    [12.207568, -13.876282],
    [13.224865, -13.876282],
    [14.242163, -13.876282],
    [15.259460, -13.876282],
    [16.276757, -13.876282],
    [17.294055, -13.876282],
    [18.311352, -13.876282],
    [19.328649, -13.876282],
    [20.345947, -13.876282],
    [21.363244, -13.876282],
    [22.380541, -13.876282],
    [23.397839, -13.876282],
    [23.397839, -12.869473],
    [23.397839, -11.862664],
    [23.397839, -10.855855],
    [23.397839, -9.849046],
    [23.397839, -8.842238],
    [23.397839, -7.835429],
    [23.397839, -6.828620],
    [23.397839, -5.821811],
    [22.391703, -5.769082],
    [21.396590, -5.611471],
    [20.423404, -5.350707],
    [19.482806, -4.989645],
    [18.585102, -4.532242],
    [17.740127, -3.983509],
    [16.957139, -3.349458],
    [16.244718, -2.637036],
    [15.610667, -1.854049],
    [15.061934, -1.009074],
    [14.604531, -0.111370],
    [14.243469, 0.829228],
    [13.982704, 1.802414],
    [13.825094, 2.797527],
    [13.772365, 3.803663],
    [12.753197, 3.803663],
    [11.734029, 3.803663],
    [10.714861, 3.803663],
    [9.695693, 3.803663],
    [8.676524, 3.803663],
    [7.657356, 3.803663],
    [6.638188, 3.803663],
    [6.586539, 4.866491],
    [6.432076, 5.919302],
    [6.176257, 6.952175],
    [5.821492, 7.955376],
    [5.371124, 8.919451],
    [4.829398, 9.835313],
    [4.201419, 10.694331],
    [3.493106, 11.488411],
    [2.711133, 12.210068],
    [1.862870, 12.852501],
    [0.956311, 13.409656],
    [0.000000, 13.876282]
];

// Full symmetric profile (mirrored from xpositive, pre-computed)
proflie_mirroredx = [
    [0.000000, 13.876282],
    [0.000000, 12.848409],
    [0.000000, 11.820536],
    [0.000000, 10.792664],
    [0.000000, 9.764791],
    [0.000000, 8.736918],
    [0.000000, 7.709045],
    [0.000000, 6.681173],
    [0.000000, 5.653300],
    [0.000000, 4.625427],
    [0.000000, 3.597555],
    [0.000000, 2.569682],
    [0.000000, 1.541809],
    [0.000000, 0.513936],
    [0.000000, -0.513936],
    [0.000000, -1.541809],
    [0.000000, -2.569682],
    [0.000000, -3.597555],
    [0.000000, -4.625427],
    [0.000000, -5.653300],
    [0.000000, -6.681173],
    [0.000000, -7.709045],
    [0.000000, -8.736918],
    [0.000000, -9.764791],
    [0.000000, -10.792664],
    [0.000000, -11.820536],
    [0.000000, -12.848409],
    [0.000000, -13.876282],
    [1.017297, -13.876282],
    [2.034595, -13.876282],
    [3.051892, -13.876282],
    [4.069189, -13.876282],
    [5.086487, -13.876282],
    [6.103784, -13.876282],
    [7.121081, -13.876282],
    [8.138379, -13.876282],
    [9.155676, -13.876282],
    [10.172973, -13.876282],
    [11.190271, -13.876282],
    [12.207568, -13.876282],
    [13.224865, -13.876282],
    [14.242163, -13.876282],
    [15.259460, -13.876282],
    [16.276757, -13.876282],
    [17.294055, -13.876282],
    [18.311352, -13.876282],
    [19.328649, -13.876282],
    [20.345947, -13.876282],
    [21.363244, -13.876282],
    [22.380541, -13.876282],
    [23.397839, -13.876282],
    [23.397839, -12.869473],
    [23.397839, -11.862664],
    [23.397839, -10.855855],
    [23.397839, -9.849046],
    [23.397839, -8.842238],
    [23.397839, -7.835429],
    [23.397839, -6.828620],
    [23.397839, -5.821811],
    [22.391703, -5.769082],
    [21.396590, -5.611471],
    [20.423404, -5.350707],
    [19.482806, -4.989645],
    [18.585102, -4.532242],
    [17.740127, -3.983509],
    [16.957139, -3.349458],
    [16.244718, -2.637036],
    [15.610667, -1.854049],
    [15.061934, -1.009074],
    [14.604531, -0.111370],
    [14.243469, 0.829228],
    [13.982704, 1.802414],
    [13.825094, 2.797527],
    [13.772365, 3.803663],
    [12.753197, 3.803663],
    [11.734029, 3.803663],
    [10.714861, 3.803663],
    [9.695693, 3.803663],
    [8.676524, 3.803663],
    [7.657356, 3.803663],
    [6.638188, 3.803663],
    [6.586539, 4.866491],
    [6.432076, 5.919302],
    [6.176257, 6.952175],
    [5.821492, 7.955376],
    [5.371124, 8.919451],
    [4.829398, 9.835313],
    [4.201419, 10.694331],
    [3.493106, 11.488411],
    [2.711133, 12.210068],
    [1.862870, 12.852501],
    [0.956311, 13.409656],
    [0.000000, 13.876282],
    [-0.956311, 13.409656],
    [-1.862870, 12.852501],
    [-2.711133, 12.210068],
    [-3.493106, 11.488411],
    [-4.201419, 10.694331],
    [-4.829398, 9.835313],
    [-5.371124, 8.919451],
    [-5.821492, 7.955376],
    [-6.176257, 6.952175],
    [-6.432076, 5.919302],
    [-6.586539, 4.866491],
    [-6.638188, 3.803663],
    [-7.657356, 3.803663],
    [-8.676524, 3.803663],
    [-9.695693, 3.803663],
    [-10.714861, 3.803663],
    [-11.734029, 3.803663],
    [-12.753197, 3.803663],
    [-13.772365, 3.803663],
    [-13.825094, 2.797527],
    [-13.982704, 1.802414],
    [-14.243469, 0.829228],
    [-14.604531, -0.111370],
    [-15.061934, -1.009074],
    [-15.610667, -1.854049],
    [-16.244718, -2.637036],
    [-16.957139, -3.349458],
    [-17.740127, -3.983509],
    [-18.585102, -4.532242],
    [-19.482806, -4.989645],
    [-20.423404, -5.350707],
    [-21.396590, -5.611471],
    [-22.391703, -5.769082],
    [-23.397839, -5.821811],
    [-23.397839, -6.828620],
    [-23.397839, -7.835429],
    [-23.397839, -8.842238],
    [-23.397839, -9.849046],
    [-23.397839, -10.855855],
    [-23.397839, -11.862664],
    [-23.397839, -12.869473],
    [-23.397839, -13.876282],
    [-22.380541, -13.876282],
    [-21.363244, -13.876282],
    [-20.345947, -13.876282],
    [-19.328649, -13.876282],
    [-18.311352, -13.876282],
    [-17.294055, -13.876282],
    [-16.276757, -13.876282],
    [-15.259460, -13.876282],
    [-14.242163, -13.876282],
    [-13.224865, -13.876282],
    [-12.207568, -13.876282],
    [-11.190271, -13.876282],
    [-10.172973, -13.876282],
    [-9.155676, -13.876282],
    [-8.138379, -13.876282],
    [-7.121081, -13.876282],
    [-6.103784, -13.876282],
    [-5.086487, -13.876282],
    [-4.069189, -13.876282],
    [-3.051892, -13.876282],
    [-2.034595, -13.876282],
    [-1.017297, -13.876282],
    [0.000000, -13.876282],
    [0.000000, -12.848409],
    [0.000000, -11.820536],
    [0.000000, -10.792664],
    [0.000000, -9.764791],
    [0.000000, -8.736918],
    [0.000000, -7.709045],
    [0.000000, -6.681173],
    [0.000000, -5.653300],
    [0.000000, -4.625427],
    [0.000000, -3.597555],
    [0.000000, -2.569682],
    [0.000000, -1.541809],
    [0.000000, -0.513936],
    [0.000000, 0.513936],
    [0.000000, 1.541809],
    [0.000000, 2.569682],
    [0.000000, 3.597555],
    [0.000000, 4.625427],
    [0.000000, 5.653300],
    [0.000000, 6.681173],
    [0.000000, 7.709045],
    [0.000000, 8.736918],
    [0.000000, 9.764791],
    [0.000000, 10.792664],
    [0.000000, 11.820536],
    [0.000000, 12.848409]
];

// Full profile rotated 90 degrees clockwise around Z axis (pre-computed)
proflie_rotatedz = [
    [13.876282, 0.000000],
    [12.848409, 0.000000],
    [11.820536, 0.000000],
    [10.792664, 0.000000],
    [9.764791, 0.000000],
    [8.736918, 0.000000],
    [7.709045, 0.000000],
    [6.681173, 0.000000],
    [5.653300, 0.000000],
    [4.625427, 0.000000],
    [3.597555, 0.000000],
    [2.569682, 0.000000],
    [1.541809, 0.000000],
    [0.513936, 0.000000],
    [-0.513936, 0.000000],
    [-1.541809, 0.000000],
    [-2.569682, 0.000000],
    [-3.597555, 0.000000],
    [-4.625427, 0.000000],
    [-5.653300, 0.000000],
    [-6.681173, 0.000000],
    [-7.709045, 0.000000],
    [-8.736918, 0.000000],
    [-9.764791, 0.000000],
    [-10.792664, 0.000000],
    [-11.820536, 0.000000],
    [-12.848409, 0.000000],
    [-13.876282, 0.000000],
    [-13.876282, -1.017297],
    [-13.876282, -2.034595],
    [-13.876282, -3.051892],
    [-13.876282, -4.069189],
    [-13.876282, -5.086487],
    [-13.876282, -6.103784],
    [-13.876282, -7.121081],
    [-13.876282, -8.138379],
    [-13.876282, -9.155676],
    [-13.876282, -10.172973],
    [-13.876282, -11.190271],
    [-13.876282, -12.207568],
    [-13.876282, -13.224865],
    [-13.876282, -14.242163],
    [-13.876282, -15.259460],
    [-13.876282, -16.276757],
    [-13.876282, -17.294055],
    [-13.876282, -18.311352],
    [-13.876282, -19.328649],
    [-13.876282, -20.345947],
    [-13.876282, -21.363244],
    [-13.876282, -22.380541],
    [-13.876282, -23.397839],
    [-12.869473, -23.397839],
    [-11.862664, -23.397839],
    [-10.855855, -23.397839],
    [-9.849046, -23.397839],
    [-8.842238, -23.397839],
    [-7.835429, -23.397839],
    [-6.828620, -23.397839],
    [-5.821811, -23.397839],
    [-5.769082, -22.391703],
    [-5.611471, -21.396590],
    [-5.350707, -20.423404],
    [-4.989645, -19.482806],
    [-4.532242, -18.585102],
    [-3.983509, -17.740127],
    [-3.349458, -16.957139],
    [-2.637036, -16.244718],
    [-1.854049, -15.610667],
    [-1.009074, -15.061934],
    [-0.111370, -14.604531],
    [0.829228, -14.243469],
    [1.802414, -13.982704],
    [2.797527, -13.825094],
    [3.803663, -13.772365],
    [3.803663, -12.753197],
    [3.803663, -11.734029],
    [3.803663, -10.714861],
    [3.803663, -9.695693],
    [3.803663, -8.676524],
    [3.803663, -7.657356],
    [3.803663, -6.638188],
    [4.866491, -6.586539],
    [5.919302, -6.432076],
    [6.952175, -6.176257],
    [7.955376, -5.821492],
    [8.919451, -5.371124],
    [9.835313, -4.829398],
    [10.694331, -4.201419],
    [11.488411, -3.493106],
    [12.210068, -2.711133],
    [12.852501, -1.862870],
    [13.409656, -0.956311],
    [13.876282, 0.000000],
    [13.409656, 0.956311],
    [12.852501, 1.862870],
    [12.210068, 2.711133],
    [11.488411, 3.493106],
    [10.694331, 4.201419],
    [9.835313, 4.829398],
    [8.919451, 5.371124],
    [7.955376, 5.821492],
    [6.952175, 6.176257],
    [5.919302, 6.432076],
    [4.866491, 6.586539],
    [3.803663, 6.638188],
    [3.803663, 7.657356],
    [3.803663, 8.676524],
    [3.803663, 9.695693],
    [3.803663, 10.714861],
    [3.803663, 11.734029],
    [3.803663, 12.753197],
    [3.803663, 13.772365],
    [2.797527, 13.825094],
    [1.802414, 13.982704],
    [0.829228, 14.243469],
    [-0.111370, 14.604531],
    [-1.009074, 15.061934],
    [-1.854049, 15.610667],
    [-2.637036, 16.244718],
    [-3.349458, 16.957139],
    [-3.983509, 17.740127],
    [-4.532242, 18.585102],
    [-4.989645, 19.482806],
    [-5.350707, 20.423404],
    [-5.611471, 21.396590],
    [-5.769082, 22.391703],
    [-5.821811, 23.397839],
    [-6.828620, 23.397839],
    [-7.835429, 23.397839],
    [-8.842238, 23.397839],
    [-9.849046, 23.397839],
    [-10.855855, 23.397839],
    [-11.862664, 23.397839],
    [-12.869473, 23.397839],
    [-13.876282, 23.397839],
    [-13.876282, 22.380541],
    [-13.876282, 21.363244],
    [-13.876282, 20.345947],
    [-13.876282, 19.328649],
    [-13.876282, 18.311352],
    [-13.876282, 17.294055],
    [-13.876282, 16.276757],
    [-13.876282, 15.259460],
    [-13.876282, 14.242163],
    [-13.876282, 13.224865],
    [-13.876282, 12.207568],
    [-13.876282, 11.190271],
    [-13.876282, 10.172973],
    [-13.876282, 9.155676],
    [-13.876282, 8.138379],
    [-13.876282, 7.121081],
    [-13.876282, 6.103784],
    [-13.876282, 5.086487],
    [-13.876282, 4.069189],
    [-13.876282, 3.051892],
    [-13.876282, 2.034595],
    [-13.876282, 1.017297],
    [-13.876282, 0.000000],
    [-12.848409, 0.000000],
    [-11.820536, 0.000000],
    [-10.792664, 0.000000],
    [-9.764791, 0.000000],
    [-8.736918, 0.000000],
    [-7.709045, 0.000000],
    [-6.681173, 0.000000],
    [-5.653300, 0.000000],
    [-4.625427, 0.000000],
    [-3.597555, 0.000000],
    [-2.569682, 0.000000],
    [-1.541809, 0.000000],
    [-0.513936, 0.000000],
    [0.513936, 0.000000],
    [1.541809, 0.000000],
    [2.569682, 0.000000],
    [3.597555, 0.000000],
    [4.625427, 0.000000],
    [5.653300, 0.000000],
    [6.681173, 0.000000],
    [7.709045, 0.000000],
    [8.736918, 0.000000],
    [9.764791, 0.000000],
    [10.792664, 0.000000],
    [11.820536, 0.000000],
    [12.848409, 0.000000]
];

// Profile prepared for rotate_extrude around X axis (pre-computed)
proflie_for_revolve = [
    [27.752563, 0.000000],
    [26.724691, 0.000000],
    [25.696818, 0.000000],
    [24.668945, 0.000000],
    [23.641072, 0.000000],
    [22.613200, 0.000000],
    [21.585327, 0.000000],
    [20.557454, 0.000000],
    [19.529582, 0.000000],
    [18.501709, 0.000000],
    [17.473836, 0.000000],
    [16.445963, 0.000000],
    [15.418091, 0.000000],
    [14.390218, 0.000000],
    [13.362345, 0.000000],
    [12.334473, 0.000000],
    [11.306600, 0.000000],
    [10.278727, 0.000000],
    [9.250854, 0.000000],
    [8.222982, 0.000000],
    [7.195109, 0.000000],
    [6.167236, 0.000000],
    [5.139364, 0.000000],
    [4.111491, 0.000000],
    [3.083618, 0.000000],
    [2.055745, 0.000000],
    [1.027873, 0.000000],
    [0.000000, 0.000000],
    [0.000000, -1.017297],
    [0.000000, -2.034595],
    [0.000000, -3.051892],
    [0.000000, -4.069189],
    [0.000000, -5.086487],
    [0.000000, -6.103784],
    [0.000000, -7.121081],
    [0.000000, -8.138379],
    [0.000000, -9.155676],
    [0.000000, -10.172973],
    [0.000000, -11.190271],
    [0.000000, -12.207568],
    [0.000000, -13.224865],
    [0.000000, -14.242163],
    [0.000000, -15.259460],
    [0.000000, -16.276757],
    [0.000000, -17.294055],
    [0.000000, -18.311352],
    [0.000000, -19.328649],
    [0.000000, -20.345947],
    [0.000000, -21.363244],
    [0.000000, -22.380541],
    [0.000000, -23.397839],
    [1.006809, -23.397839],
    [2.013618, -23.397839],
    [3.020426, -23.397839],
    [4.027235, -23.397839],
    [5.034044, -23.397839],
    [6.040853, -23.397839],
    [7.047662, -23.397839],
    [8.054471, -23.397839],
    [8.107200, -22.391703],
    [8.264810, -21.396590],
    [8.525575, -20.423404],
    [8.886637, -19.482806],
    [9.344040, -18.585102],
    [9.892773, -17.740127],
    [10.526823, -16.957139],
    [11.239245, -16.244718],
    [12.022233, -15.610667],
    [12.867208, -15.061934],
    [13.764912, -14.604531],
    [14.705510, -14.243469],
    [15.678696, -13.982704],
    [16.673809, -13.825094],
    [17.679945, -13.772365],
    [17.679945, -12.753197],
    [17.679945, -11.734029],
    [17.679945, -10.714861],
    [17.679945, -9.695693],
    [17.679945, -8.676524],
    [17.679945, -7.657356],
    [17.679945, -6.638188],
    [18.742772, -6.586539],
    [19.795584, -6.432076],
    [20.828457, -6.176257],
    [21.831658, -5.821492],
    [22.795732, -5.371124],
    [23.711594, -4.829398],
    [24.570613, -4.201419],
    [25.364692, -3.493106],
    [26.086349, -2.711133],
    [26.728782, -1.862870],
    [27.285937, -0.956311],
    [27.752563, 0.000000],
    [27.285937, 0.956311],
    [26.728782, 1.862870],
    [26.086349, 2.711133],
    [25.364692, 3.493106],
    [24.570613, 4.201419],
    [23.711594, 4.829398],
    [22.795732, 5.371124],
    [21.831658, 5.821492],
    [20.828457, 6.176257],
    [19.795584, 6.432076],
    [18.742772, 6.586539],
    [17.679945, 6.638188],
    [17.679945, 7.657356],
    [17.679945, 8.676524],
    [17.679945, 9.695693],
    [17.679945, 10.714861],
    [17.679945, 11.734029],
    [17.679945, 12.753197],
    [17.679945, 13.772365],
    [16.673809, 13.825094],
    [15.678696, 13.982704],
    [14.705510, 14.243469],
    [13.764912, 14.604531],
    [12.867208, 15.061934],
    [12.022233, 15.610667],
    [11.239245, 16.244718],
    [10.526823, 16.957139],
    [9.892773, 17.740127],
    [9.344040, 18.585102],
    [8.886637, 19.482806],
    [8.525575, 20.423404],
    [8.264810, 21.396590],
    [8.107200, 22.391703],
    [8.054471, 23.397839],
    [7.047662, 23.397839],
    [6.040853, 23.397839],
    [5.034044, 23.397839],
    [4.027235, 23.397839],
    [3.020426, 23.397839],
    [2.013618, 23.397839],
    [1.006809, 23.397839],
    [0.000000, 23.397839],
    [0.000000, 22.380541],
    [0.000000, 21.363244],
    [0.000000, 20.345947],
    [0.000000, 19.328649],
    [0.000000, 18.311352],
    [0.000000, 17.294055],
    [0.000000, 16.276757],
    [0.000000, 15.259460],
    [0.000000, 14.242163],
    [0.000000, 13.224865],
    [0.000000, 12.207568],
    [0.000000, 11.190271],
    [0.000000, 10.172973],
    [0.000000, 9.155676],
    [0.000000, 8.138379],
    [0.000000, 7.121081],
    [0.000000, 6.103784],
    [0.000000, 5.086487],
    [0.000000, 4.069189],
    [0.000000, 3.051892],
    [0.000000, 2.034595],
    [0.000000, 1.017297],
    [0.000000, 0.000000],
    [1.027873, 0.000000],
    [2.055745, 0.000000],
    [3.083618, 0.000000],
    [4.111491, 0.000000],
    [5.139364, 0.000000],
    [6.167236, 0.000000],
    [7.195109, 0.000000],
    [8.222982, 0.000000],
    [9.250854, 0.000000],
    [10.278727, 0.000000],
    [11.306600, 0.000000],
    [12.334473, 0.000000],
    [13.362345, 0.000000],
    [14.390218, 0.000000],
    [15.418091, 0.000000],
    [16.445963, 0.000000],
    [17.473836, 0.000000],
    [18.501709, 0.000000],
    [19.529582, 0.000000],
    [20.557454, 0.000000],
    [21.585327, 0.000000],
    [22.613200, 0.000000],
    [23.641072, 0.000000],
    [24.668945, 0.000000],
    [25.696818, 0.000000],
    [26.724691, 0.000000]
];

// Scaled profile functions
function proflie_xpositive_scaled(s=1) = [for (p = proflie_xpositive) [p.x * s, p.y * s]];
function proflie_mirroredx_scaled(s=1) = [for (p = proflie_mirroredx) [p.x * s, p.y * s]];
function proflie_rotatedz_scaled(s=1) = [for (p = proflie_rotatedz) [p.x * s, p.y * s]];
function proflie_for_revolve_scaled(s=1) = [for (p = proflie_for_revolve) [p.x * s, p.y * s]];

// Default profile (mirrored, for path_sweep)
function profile_default(scalefactor=1) = proflie_mirroredx_scaled(scalefactor);

// Module to revolve the profile around the X axis
module proflie_revolve_around_x(scalefactor=1, angle=90) {
    rotate([90, 0, 180])
    translate([0, -proflie_height * scalefactor, 0])
    rotate_extrude(angle=angle, convexity=10)
    polygon(proflie_for_revolve_scaled(scalefactor));
}

// Preview module - shows all profile variants
module proflie_preview(scalefactor=1, test_length=100) {
    spacing_y = proflie_height * scalefactor * 4 + 10;
    test_line = [[0, 0, 0], [test_length, 0, 0]];

    // Swept profiles
    color("red")
    path_sweep(proflie_mirroredx_scaled(scalefactor), test_line);

    translate([0, spacing_y, 0])
    color("green")
    path_sweep(proflie_xpositive_scaled(scalefactor), test_line);

    translate([0, spacing_y * 2, 0])
    color("blue")
    path_sweep(proflie_rotatedz_scaled(scalefactor), test_line);

    // Revolve around X axis (90 degree turn)
    translate([0, spacing_y * 3, 0])
    color("purple")
    proflie_revolve_around_x(scalefactor, 90);

    // 2D profiles for reference
    translate([test_length + 20, 0, 0]) {
        color("red", 0.5)
        linear_extrude(1)
        polygon(proflie_mirroredx_scaled(scalefactor));

        translate([0, spacing_y, 0])
        color("green", 0.5)
        linear_extrude(1)
        polygon(proflie_xpositive_scaled(scalefactor));

        translate([0, spacing_y * 2, 0])
        color("blue", 0.5)
        linear_extrude(1)
        polygon(proflie_rotatedz_scaled(scalefactor));
    }
}

//proflie_preview();



// ===== TANGENT CONNECTION POINTS =====
// Points where entities connect tangentially, with rotation angle for joint placement
tangent_point_0 = [113.848946, 35.572664, 0.000000];
tangent_point_0_angle = 54.000000;
tangent_point_1 = [83.899791, 35.572664, 0.000000];
tangent_point_1_angle = 126.000000;
tangent_point_2 = [123.103744, 7.089325, 0.000000];
tangent_point_2_angle = -18.000000;
tangent_point_3 = [98.874369, -10.514346, 0.000000];
tangent_point_3_angle = -90.000000;
tangent_point_4 = [74.644994, 7.089325, 0.000000];
tangent_point_4_angle = -162.000000;
tangent_point_5 = [119.428491, -82.322298, 0.000000];
tangent_point_5_angle = -162.000000;
tangent_point_6 = [128.683289, -53.838959, 0.000000];
tangent_point_6_angle = 126.000000;
tangent_point_7 = [167.887241, -82.322298, 0.000000];
tangent_point_7_angle = -18.000000;
tangent_point_8 = [158.632444, -53.838959, 0.000000];
tangent_point_8_angle = 54.000000;
tangent_point_9 = [143.657866, -99.925969, 0.000000];
tangent_point_9_angle = -90.000000;
tangent_point_10 = [57.486644, -124.060308, 0.000000];
tangent_point_10_angle = 126.000000;
tangent_point_11 = [87.435799, -124.060308, 0.000000];
tangent_point_11_angle = 54.000000;
tangent_point_12 = [72.461221, -170.147318, 0.000000];
tangent_point_12_angle = -90.000000;
tangent_point_13 = [96.690596, -152.543646, 0.000000];
tangent_point_13_angle = -18.000000;
tangent_point_14 = [48.231847, -152.543646, 0.000000];
tangent_point_14_angle = -162.000000;
tangent_point_15 = [24.229375, -7.872601, 0.000000];
tangent_point_15_angle = -18.000000;
tangent_point_16 = [14.974577, 20.610737, 0.000000];
tangent_point_16_angle = 54.000000;
tangent_point_17 = [-40.553598, -106.531203, 0.000000];
tangent_point_17_angle = -162.000000;
tangent_point_18 = [-16.324223, -124.134875, 0.000000];
tangent_point_18_angle = -90.000000;
tangent_point_19 = [-24.229375, -7.872601, 0.000000];
tangent_point_19_angle = -162.000000;
tangent_point_20 = [-0.000000, -25.476272, 0.000000];
tangent_point_20_angle = -90.000000;
tangent_point_21 = [-14.974577, 20.610737, 0.000000];
tangent_point_21_angle = 126.000000;
tangent_point_22 = [-31.298800, -78.047865, 0.000000];
tangent_point_22_angle = 126.000000;
tangent_point_23 = [7.905152, -106.531203, 0.000000];
tangent_point_23_angle = -18.000000;
tangent_point_24 = [-1.349645, -78.047865, 0.000000];
tangent_point_24_angle = 54.000000;

// Module to place revolve joints at all tangent connection points
module place_revolve_joints_at_tangent_points(scalefactor=1, angle=90) {
    translate(tangent_point_0)
    rotate([0, 0, tangent_point_0_angle])
    proflie_revolve_around_x(scalefactor, angle);
    translate(tangent_point_1)
    rotate([0, 0, tangent_point_1_angle])
    proflie_revolve_around_x(scalefactor, angle);
    translate(tangent_point_2)
    rotate([0, 0, tangent_point_2_angle])
    proflie_revolve_around_x(scalefactor, angle);
    translate(tangent_point_3)
    rotate([0, 0, tangent_point_3_angle])
    proflie_revolve_around_x(scalefactor, angle);
    translate(tangent_point_4)
    rotate([0, 0, tangent_point_4_angle])
    proflie_revolve_around_x(scalefactor, angle);
    translate(tangent_point_5)
    rotate([0, 0, tangent_point_5_angle])
    proflie_revolve_around_x(scalefactor, angle);
    translate(tangent_point_6)
    rotate([0, 0, tangent_point_6_angle])
    proflie_revolve_around_x(scalefactor, angle);
    translate(tangent_point_7)
    rotate([0, 0, tangent_point_7_angle])
    proflie_revolve_around_x(scalefactor, angle);
    translate(tangent_point_8)
    rotate([0, 0, tangent_point_8_angle])
    proflie_revolve_around_x(scalefactor, angle);
    translate(tangent_point_9)
    rotate([0, 0, tangent_point_9_angle])
    proflie_revolve_around_x(scalefactor, angle);
    translate(tangent_point_10)
    rotate([0, 0, tangent_point_10_angle])
    proflie_revolve_around_x(scalefactor, angle);
    translate(tangent_point_11)
    rotate([0, 0, tangent_point_11_angle])
    proflie_revolve_around_x(scalefactor, angle);
    translate(tangent_point_12)
    rotate([0, 0, tangent_point_12_angle])
    proflie_revolve_around_x(scalefactor, angle);
    translate(tangent_point_13)
    rotate([0, 0, tangent_point_13_angle])
    proflie_revolve_around_x(scalefactor, angle);
    translate(tangent_point_14)
    rotate([0, 0, tangent_point_14_angle])
    proflie_revolve_around_x(scalefactor, angle);
    translate(tangent_point_15)
    rotate([0, 0, tangent_point_15_angle])
    proflie_revolve_around_x(scalefactor, angle);
    translate(tangent_point_16)
    rotate([0, 0, tangent_point_16_angle])
    proflie_revolve_around_x(scalefactor, angle);
    translate(tangent_point_17)
    rotate([0, 0, tangent_point_17_angle])
    proflie_revolve_around_x(scalefactor, angle);
    translate(tangent_point_18)
    rotate([0, 0, tangent_point_18_angle])
    proflie_revolve_around_x(scalefactor, angle);
    translate(tangent_point_19)
    rotate([0, 0, tangent_point_19_angle])
    proflie_revolve_around_x(scalefactor, angle);
    translate(tangent_point_20)
    rotate([0, 0, tangent_point_20_angle])
    proflie_revolve_around_x(scalefactor, angle);
    translate(tangent_point_21)
    rotate([0, 0, tangent_point_21_angle])
    proflie_revolve_around_x(scalefactor, angle);
    translate(tangent_point_22)
    rotate([0, 0, tangent_point_22_angle])
    proflie_revolve_around_x(scalefactor, angle);
    translate(tangent_point_23)
    rotate([0, 0, tangent_point_23_angle])
    proflie_revolve_around_x(scalefactor, angle);
    translate(tangent_point_24)
    rotate([0, 0, tangent_point_24_angle])
    proflie_revolve_around_x(scalefactor, angle);
}

// Sweep pattern - sweeps profile along each path (lines, arcs, and circles)
module sweep_pattern(profile) {
    union() {
        // Sweep lines
        

        // Sweep arcs
        sweep_arc(profile, arc_0, n_segments=50);
sweep_arc(profile, arc_1, n_segments=50);
sweep_arc(profile, arc_2, n_segments=50);
sweep_arc(profile, arc_3, n_segments=50);
sweep_arc(profile, arc_4, n_segments=50);
sweep_arc(profile, arc_5, n_segments=50);
sweep_arc(profile, arc_6, n_segments=50);
sweep_arc(profile, arc_7, n_segments=50);
sweep_arc(profile, arc_8, n_segments=50);
sweep_arc(profile, arc_9, n_segments=50);
sweep_arc(profile, arc_10, n_segments=50);
sweep_arc(profile, arc_11, n_segments=50);
sweep_arc(profile, arc_12, n_segments=50);
sweep_arc(profile, arc_13, n_segments=50);
sweep_arc(profile, arc_14, n_segments=50);
sweep_arc(profile, arc_15, n_segments=50);
sweep_arc(profile, arc_16, n_segments=50);
sweep_arc(profile, arc_17, n_segments=50);
sweep_arc(profile, arc_18, n_segments=50);
sweep_arc(profile, arc_19, n_segments=50);
sweep_arc(profile, arc_20, n_segments=50);
sweep_arc(profile, arc_21, n_segments=50);
sweep_arc(profile, arc_22, n_segments=50);
sweep_arc(profile, arc_23, n_segments=50);
sweep_arc(profile, arc_24, n_segments=50);

        // Sweep circles
        sweep_circle(profile, circle_0, n_segments=50);
sweep_circle(profile, circle_1, n_segments=50);
sweep_circle(profile, circle_2, n_segments=50);
sweep_circle(profile, circle_3, n_segments=50);
sweep_circle(profile, circle_4, n_segments=50);
sweep_circle(profile, circle_5, n_segments=50);

    }
}

// Full pattern with tangent joints
module full_pattern(scalefactor=1, joint_angle=90) {
    union() {
        sweep_pattern(profile_default(scalefactor));
        place_revolve_joints_at_tangent_points(scalefactor, joint_angle);
    }
}

    //proflie_preview();

// Render sweep pattern only
//sweep_pattern(profile_default(scalefactor=1));

// Render full pattern with tangent joints
full_pattern(scalefactor=1, joint_angle=90);

    